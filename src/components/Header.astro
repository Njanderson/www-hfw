---
import SocialLinks from '@components/SocialLinks'

import navigation from '@data/navigation.json';

const activeLink = (link) => {
	return Astro.request.url.pathname === link ? 'text-accent-color' : ''	
}
---

<!-- H!FW LOGO -->
<div class="flex justify-center mt-12 mb-8">
	<a class="block mx-auto w-4/5 md:w-1/3" href="/">
		<img
			class="w-full h-full"
			src="https://ik.imagekit.io/thegoldendino/hfw/festival/2021/logo-2021_nVNOHonr9.svg?updatedAt=1628273241588"
			alt="HONK! Fest West"
		/>
	</a>
</div>

<nav>
	<ul class="flex justify-center items-center">

		<!-- MAIN NAV -->
		{navigation.main.map((item) => (
			<li class="text-3xl text-main-color-700 font-title flex items-center">
				{console.log(item.name, item.link, Astro.request.url.pathname)}
				<a
					class={`mx-2 block ${activeLink(item.link)}`}
					href={ item.link }
				>{ item.name }</a>
				<span class="mx-2 block h-9">&#8226;</span>
			</li>
		))}

		<!-- SOCIAL NAV -->
		{Object.keys(navigation.social).map((item) => (
			<li class="text-2xl text-main-color-700 px-1 h-9">
				<SocialLinks link={item} size="1.875rem" />
			</li>
		))}
	</ul>
</nav>